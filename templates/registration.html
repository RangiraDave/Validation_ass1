{% extends 'base.html' %}

{% block content %}
  <style>
    .custom-form {
      background-color: #f8f9fa;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .form-group {
      margin-bottom: 15px;
    }

    .btn-primary {
      background-color: #007bff;
      color: #fff;
    }

    .btn-primary:hover {
      background-color: #0056b3;
    }

    .vehicle-form {
      display: none;
    }
    .registration-form
    {
        width: fit-content;
        align-content: center;
        text-align: center;
    }
  </style>

  <!-- <div class="container mt-5"> -->
    <div class="registration-form">
      <h2 class="mb-4 text-light">Registration Form</h2>
      <form method="post" action="{% url 'register' %}" class="custom-form" id="participantForm">
        {% csrf_token %}
        <div class="form-group">
          {{ form.first_name.label_tag }}
          {{ form.first_name }}
        </div>
        <div class="form-group">
          {{ form.middle_name.label_tag }}
          {{ form.middle_name }}
        </div>
        <div class="form-group">
          {{ form.last_name.label_tag }}
          {{ form.last_name }}
        </div>
        <div class="form-group">
          {{ form.gender.label_tag }}
          {{ form.gender }}
        </div>
        <div class="form-group">
          {{ form.email.label_tag }}
          {{ form.email }}
        </div>
        <div class="form-group">
          {{ form.date_of_birth.label_tag }}
          {{ form.date_of_birth }}
        </div>
        <div class="form-group">
          {{ form.phone.label_tag }}
          {{ form.phone }}
        </div>
        <div class="form-group">
          {{ form.referanceNumber.label_tag }}
          {{ form.referanceNumber }}
        </div>

        <!-- Add Vehicle button -->
        <button type="button" class="btn btn-primary" onclick="addVehicleForm()">Add Vehicle</button>

        <!-- Display the formset -->
        <div class="vehicle-form" id="vehicleForm">
          {{ formset.management_form }}
          {% for form in formset %}
            {{ form.as_table }}
          {% endfor %}
        </div>

        <button type="submit" class="btn btn-primary">Register</button>
      </form>
    </div>
  <!-- </div> -->

  <script>
    function addVehicleForm() {
      // Show the vehicle form when the button is clicked
      document.getElementById('vehicleForm').style.display = 'block';
    }
  </script>
{% endblock %}
